Title: threads c
Karma: 12
Date: 1370514090.0
hello everyone given project create text file text file write pid afterwards need create ten threads wait second write threadid file code compiles nothing written file going thank advance include ah include iostream include fstream include systypesh include sysipch include syssemh include unistdh include pthreadh include semaphoreh using namespace std define numthreads define maxsessions ofstream outfile semt lock static pthreadmutext sessionlock pthreadmutexinitializer function writemessage notes writes threadid file also outputs shell void writemessagevoid tid pthreadmutexlocksessionlock semwaitlock sleep outfileopenproctabtxt outfile pthreadself rn cout thread pthreadself running endl outfileclose sempostlock pthreadmutexunlocksessionlock pthreadexitnull function process notes process made creating file writing pid later use void processvoid pthreadt threadsnumthreads pthreadattrt attr pthreadattrinitattr pthreadattrsetdetachstateattr pthreadcreatejoinable int rc outfileopenproctabtxt making proctabtxt outfile getpid rn outfileclose seminitlock fori inumthreads rc pthreadcreatethreadsi attr writemessage void semwaitlock edit ifrc cout error unable create threads endl exit pthreadattrdestroyattr forint tnumthreads rc pthreadjointhreadststatus pthreadexitnull semdestroylock exit main routine int mainvoid pidt pid fork ifpid process child process else ifpid creating child process else ifpid exit header file ifndef ah define ah include stdioh include string using namespace std class public void process void writemessage int main private protected endif edit got work get output thread thread running runningthread runningthread running thread running thread running thread running thread running thread running thread running outputted instantly one one second also pid written file thread id edit neater instant want aout thread running thread x running thread x running thread x running thread x running thread x running thread x running thread x running thread x running thread x running edit managed get output second one problem threadid supposed written file first one outputted help

==============================

